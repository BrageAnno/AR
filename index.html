<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panorama 360 Viewer</title>
    <script src="aframe.min.js"></script>
</head>
<body>
    <a-scene device-orientation-permission-ui>
        <a-sky id="panorama" src="./Panorama_Test.jpg" rotation="0 0 0"></a-sky>
        <a-entity camera device-orientation="tiltAxis: y; minVerticalAngle: -90; maxVerticalAngle: 90;"></a-entity>
    </a-scene>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var panorama = document.getElementById('panorama');

            // Set the rotation of the panorama to the device's compass heading
            window.addEventListener('deviceorientation', function(event) {
                var compassHeading = event.alpha || 0;
                panorama.setAttribute('rotation', '0 ' + compassHeading + ' 0');
            });
        });
    </script>
</body>
</html>